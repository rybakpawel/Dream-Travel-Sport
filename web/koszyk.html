<!doctype html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Koszyk ‚Äì Dream Travel Sport</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/src/styles/pages/koszyk.css" />
  </head>
  <body>
    <header>
      <div class="logo-wrap">
        <a href="index.html">
          <img src="assets/brand/logo-dts.png" alt="Dream Travel Sport Logo" />
          <div class="brand-text">
            <span>Dream Travel Sport</span>
            <span>sportowe wyjazdy premium</span>
          </div>
        </a>
        <div class="brand-extra">
          <div class="brand-extra-phone">Tel: +48 793 020 092</div>
          <div class="brand-extra-socials">
            <span>≈öled≈∫ nas:</span>
            <a
              href="https://www.facebook.com/dreamtravelsport"
              class="social-badge social-fb"
              target="_blank"
              rel="noopener"
              aria-label="Facebook"
            >
              <i class="fa-brands fa-facebook-f"></i>
            </a>
            <a
              href="https://www.instagram.com/dreamtravelsport"
              class="social-badge social-ig"
              target="_blank"
              rel="noopener"
              aria-label="Instagram"
            >
              <i class="fa-brands fa-instagram"></i>
            </a>
          </div>
        </div>
      </div>

      <button class="mobile-menu-toggle" aria-label="Menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <div class="nav-right">
        <nav class="main-nav">
          <a href="index.html#dlaczego">Dlaczego my</a>
          <a href="dream-points.html">Dream Points</a>
          <a href="wspolpraca.html">Dla firm</a>
          <a href="o-mnie.html">O mnie</a>
        </nav>
        <div class="nav-cta">
          <a class="btn-primary" href="index.html#oferta">Sprawd≈∫ wyjazdy</a>
          <a class="cart-link" href="koszyk.html" aria-label="Koszyk">
            <span class="cart-icon-wrap">
              <span class="cart-icon">üõí</span>
              <span class="cart-badge" data-cart-badge aria-hidden="true"></span>
            </span>
            <span>Koszyk</span>
          </a>
        </div>
      </div>

      <div class="mobile-menu-overlay"></div>
      <div class="mobile-menu">
        <nav>
          <a href="index.html#dlaczego">Dlaczego my</a>
          <a href="dream-points.html">Dream Points</a>
          <a href="wspolpraca.html">Dla firm</a>
          <a href="o-mnie.html">O mnie</a>
        </nav>
        <div class="mobile-nav-cta">
          <a class="btn-primary" href="index.html#oferta">Sprawd≈∫ wyjazdy</a>
          <a class="cart-link" href="koszyk.html" aria-label="Koszyk">
            <span class="cart-icon-wrap">
              <span class="cart-icon">üõí</span>
              <span class="cart-badge" data-cart-badge aria-hidden="true"></span>
            </span>
            <span>Koszyk</span>
          </a>
        </div>
      </div>
    </header>

    <main>
      <h1>Koszyk</h1>
      <p class="muted">
        Tu finalizujesz sw√≥j sportowy wyjazd. Mo≈ºesz zwiƒôkszyƒá liczbƒô uczestnik√≥w (max 5 na jednej
        rezerwacji).
      </p>

      <div class="cart-card" id="cart-card">
        <div id="cart-empty-message" style="display: none; text-align: center; padding: 60px 20px">
          <h2 style="margin-bottom: 16px; color: var(--dt-light)">Koszyk jest pusty</h2>
          <p style="margin-bottom: 24px; color: var(--dt-muted)">
            Wr√≥ƒá do <a href="index.html#oferta">listy wyjazd√≥w</a> i dodaj pierwszy wyjazd.
          </p>
        </div>

        <table class="cart-table" id="cart-table">
          <thead>
            <tr>
              <th>Wyjazd</th>
              <th>Termin</th>
              <th>Wylot</th>
              <th>Klasa hotelu</th>
              <th>Ilo≈õƒá os√≥b</th>
              <th>Cena</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="cart-body">
            <!-- generowane w JS -->
          </tbody>
        </table>

        <div class="cart-summary" id="cart-summary">
          <div>≈ÅƒÖcznie uczestnik√≥w: <strong id="cart-total-people">0</strong></div>
          <div>Suma do zap≈Çaty: <strong id="cart-total-price">0 z≈Ç</strong></div>
        </div>
      </div>

      <div class="two-cols" id="checkout-forms">
        <div class="cart-card">
          <h2 class="cart-section-title">Dane rezerwujƒÖcego</h2>
          <div class="field-group">
            <label>Imiƒô i nazwisko</label>
            <input type="text" name="customerName" placeholder="Jan Kowalski" required />
          </div>
          <div class="field-group">
            <label>Adres e-mail</label>
            <input type="email" name="customerEmail" placeholder="jan@twojmail.pl" required />
          </div>
          <div class="field-group">
            <label>Numer telefonu</label>
            <input type="tel" name="customerPhone" placeholder="+48 793 020 092" required />
          </div>
          <div class="field-group">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <input type="checkbox" id="invoice-company" name="invoiceCompany" />
              <span>Zakup na firmƒô</span>
            </label>
          </div>

          <div id="invoice-company-fields" style="display: none">
            <div class="field-group">
              <label for="companyName">Nazwa firmy</label>
              <input type="text" id="companyName" name="companyName" placeholder="np. Dream Travel Sport sp. z o.o." />
            </div>
            <div class="field-group">
              <label for="companyTaxId">NIP</label>
              <input type="text" id="companyTaxId" name="companyTaxId" placeholder="np. 1234567890" inputmode="numeric" />
            </div>
            <div class="field-group">
              <label for="companyAddress">Adres firmy</label>
              <input type="text" id="companyAddress" name="companyAddress" placeholder="Ulica, nr, kod, miasto" />
            </div>
          </div>
          <div class="info-box">
            Dane wsp√≥≈Çuczestnik√≥w uzupe≈Çnisz poni≈ºej ‚Äì wszyscy jadƒÖ na jednej rezerwacji, a Ty
            jeste≈õ g≈Ç√≥wnym podr√≥≈ºnym.
          </div>
        </div>

        <div class="cart-card">
          <h2 class="cart-section-title">P≈Çatno≈õƒá</h2>
          <div class="payment-methods">
            <label
              ><input type="radio" name="pay" value="MANUAL_TRANSFER" checked /> Przelew tradycyjny</label
            >
            <!-- P24 tymczasowo wy≈ÇƒÖczone - czekamy na weryfikacjƒô konta -->
            <!-- <label
              ><input type="radio" name="pay" value="PRZELEWY24" /> Szybka p≈Çatno≈õƒá (Przelewy24)</label
            > -->
          </div>
          <div id="loyalty-earn-section" style="display: none; margin-bottom: 16px">
            <div class="info-box">
              Za tƒô rezerwacjƒô otrzymasz <strong id="points-to-earn">0</strong> Dream Points.
            </div>
          </div>
          <div id="loyalty-verify-section" style="display: none; margin-bottom: 16px">
            <div class="info-box" style="margin-bottom: 10px">
              Chcesz u≈ºyƒá Dream Points? Wy≈õlemy jednorazowy link na Tw√≥j e-mail, aby bezpiecznie
              aktywowaƒá punkty w tym koszyku.
            </div>
            <button type="button" id="request-magic-link-btn" class="btn-secondary">
              Wy≈õlij link do u≈ºycia punkt√≥w
            </button>
            <div id="magic-link-dev" class="info-box" style="display: none; margin-top: 10px"></div>
          </div>
          <div id="loyalty-points-section" style="display: none; margin-bottom: 16px">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer">
              <input type="checkbox" id="use-points-checkbox" style="cursor: pointer" />
              <span
                >U≈ºyj <strong id="available-points">0</strong> Dream Points (oszczƒôdzisz
                <strong id="points-discount">0 z≈Ç</strong>)</span
              >
            </label>
          </div>
          <div class="checkboxes-group" style="margin-top: 20px; margin-bottom: 16px;">
            <div class="field-group" style="margin-bottom: 12px;">
              <label style="display: flex; align-items: flex-start; gap: 8px; cursor: pointer;">
                <input type="checkbox" id="accept-terms" name="acceptTerms" required style="margin-top: 2px; cursor: pointer;" />
                <span>Akceptujƒô <a href="/assets/regulamin.pdf" target="_blank" rel="noopener" style="color: var(--dt-gold); text-decoration: underline;">Regulamin</a>, <a href="/assets/ogolne-warunki-uczestnictwa.pdf" target="_blank" rel="noopener" style="color: var(--dt-gold); text-decoration: underline;">Og√≥lne Warunki Uczestnictwa</a>, <a href="/assets/ogolne-warunki-ubezpieczenia.pdf" target="_blank" rel="noopener" style="color: var(--dt-gold); text-decoration: underline;">Og√≥lne Warunki Ubezpieczenia</a> oraz <a href="/assets/polityka-prywatnosci.pdf" target="_blank" rel="noopener" style="color: var(--dt-gold); text-decoration: underline;">Politykƒô prywatno≈õci</a></span>
              </label>
            </div>
            <div class="field-group" style="margin-bottom: 12px;">
              <label style="display: flex; align-items: flex-start; gap: 8px; cursor: pointer;">
                <input type="checkbox" id="accept-power-of-attorney" name="acceptPowerOfAttorney" required style="margin-top: 2px; cursor: pointer;" />
                <span>Tak, posiadam pe≈Çnomocnictwo do zawarcia niniejszej Umowy oraz dokonywania jej zmian, udzielone przez pozosta≈Çych uczestnik√≥w.</span>
              </label>
            </div>
            <div class="field-group" style="margin-bottom: 12px;">
              <label style="display: flex; align-items: flex-start; gap: 8px; cursor: pointer;">
                <input type="checkbox" id="accept-electronic-service" name="acceptElectronicService" required style="margin-top: 2px; cursor: pointer;" />
                <span>Tak, wyra≈ºam zgodƒô na obs≈Çugƒô elektronicznƒÖ Umowy i przekazanie mi dokument√≥w oraz polisy na wskazany przeze mnie adres e-mail</span>
              </label>
            </div>
          </div>
          <button type="button" id="preview-agreement-btn" class="btn-preview-offer">
            <span class="preview-icon">üìÑ</span>
            <span class="preview-text">PodglƒÖd oferty</span>
          </button>
          <button class="btn-order">Z≈Ç√≥≈º rezerwacjƒô</button>
          <div class="info-box">
            Po klikniƒôciu przycisku z≈Ço≈ºysz rezerwacjƒô i przejdziesz do p≈Çatno≈õci online lub otrzymasz
            instrukcjƒô przelewu tradycyjnego.
          </div>
        </div>
      </div>

      <div class="cart-card cart-card--mt-24" id="passengers-section">
        <h2 class="cart-section-title">Uczestnicy wyjazdu</h2>
        <p class="muted muted--mb-10">
          Poni≈ºej dodaj dane os√≥b, kt√≥re jadƒÖ na tym samym wyje≈∫dzie. Formularz aktualizuje siƒô
          automatycznie po zmianie ilo≈õci os√≥b w koszyku.
        </p>
        <div id="passengers-list" class="passengers-list">
          <!-- generowane w JS -->
        </div>
      </div>
    </main>

    <footer>
      ¬© 2025 Dream Travel Sport ‚Äì sportowe wyjazdy premium. Wszystkie prawa zastrze≈ºone.
      <br />
      <div>
        <a href="/assets/regulamin.pdf" target="_blank" rel="noopener">Regulamin</a>
        <span>‚Ä¢</span>
        <a href="/assets/polityka-prywatnosci.pdf" target="_blank" rel="noopener">Polityka Prywatno≈õci</a>
        <span>‚Ä¢</span>
        <a href="/assets/ogolne-warunki-uczestnictwa.pdf" target="_blank" rel="noopener">Og√≥lne Warunki Uczestnictwa</a>
        <span>‚Ä¢</span>
        <a href="/assets/ogolne-warunki-ubezpieczenia.pdf" target="_blank" rel="noopener">Og√≥lne Warunki Ubezpieczenia</a>
        <span>‚Ä¢</span>
        <a href="/assets/draft-umowy.pdf" target="_blank" rel="noopener">Draft Umowy</a>
      </div>
    </footer>

    <!-- Cookies Banner -->
    <div id="cookies-banner">
      <div class="cookies-banner-content">
        <div class="cookies-banner-icon">
          <i class="fa-solid fa-cookie-bite"></i>
        </div>
        <div class="cookies-banner-text">
          Ta strona wykorzystuje pliki cookies w celu zapewnienia prawid≈Çowego dzia≈Çania oraz analizy ruchu na stronie. 
          KontynuujƒÖc przeglƒÖdanie, akceptujesz naszƒÖ <a href="/assets/polityka-prywatnosci.pdf" target="_blank" rel="noopener">Politykƒô prywatno≈õci</a>.
        </div>
      </div>
      <div class="cookies-banner-actions">
        <button type="button" id="cookies-accept">Akceptujƒô</button>
      </div>
    </div>

    <script type="module" src="src/utils/mobile-menu.ts"></script>
    <script type="module" src="src/features/cart/badge.ts"></script>
    <script type="module" src="src/features/cookies-banner/index.ts"></script>
    <script type="module" src="src/pages/koszyk.ts"></script>
  </body>
</html>
